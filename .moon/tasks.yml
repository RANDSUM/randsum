$schema: 'https://moonrepo.dev/schemas/tasks.json'

tasks:
  build:
    command: 'npx bunup'

  test:
    command: 'bun test'
    deps:
      - 'build'

  lint:
    command: 'eslint . -c ../../eslint.base.config.js'
    deps:
      - 'build'

  format:
    command: 'prettier . --check'
    deps:
      - 'build'

  tsCheck:
    command: 'tsc --erasableSyntaxOnly'
    deps:
      - 'build'

  publish:
    command: 'bun publish --no-git-checks'
    options:
      runInCI: false
    deps:
      - 'build'
      - 'test'
