[test]
# Enable coverage by default for workspace-level testing
coverage = true
coverageReporter = ['text', 'lcov', 'text-summary']
coverageDirectory = "coverage"

# Comprehensive coverage thresholds
coverageThreshold = {
  lines = 95.0,
  functions = 95.0,
  branches = 90.0,
  statements = 95.0
}

# Ignore patterns for coverage calculation
coverageIgnorePatterns = [
  "node_modules/",
  "dist/",
  "build/",
  "**/*.d.ts",
  "**/*.test.ts",
  "**/*.spec.ts",
  "**/test/**",
  "**/__tests__/**",
  "**/coverage/**",
  "**/.moon/**",
  "**/docs/**",
  "apps/robo/**",  # Discord bot - integration focused
  "apps/mcp/**"    # MCP server - integration focused
]

# Test file patterns
testNamePattern = ".*\\.(test|spec)\\.(ts|js)$"

# Performance settings
testTimeout = 30000
bail = false
